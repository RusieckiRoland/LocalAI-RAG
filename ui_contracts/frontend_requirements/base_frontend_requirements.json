{
  "contractVersion": 1,
  "endpoints": {
    "appConfig": {
      "method": "GET",
      "path": "/app-config",
      "response": {
        "session_id": "string",
        "user_id": "string|null",
        "user_kind": "anonymous|user",
        "repository": "string",
        "active_index_id": "string",
        "branches": ["string"],
        "defaultBranchA": "string",
        "defaultBranchB": "string",
        "defaultConsultantId": "string",
        "consultants": [
          {
            "id": "string",
            "pipelineName": "string",
            "branchPickerMode": "single|compare",
            "icon": "string",
            "displayName": "string",
            "cardDescription": { "pl": "string", "en": "string" },
            "welcomeTemplate": { "pl": "string", "en": "string" },
            "welcomeLinkText": { "pl": "string", "en": "string" },
            "wikiUrl": { "pl": "string", "en": "string" }
          }
        ]
      }
    },
    "search": {
      "method": "POST",
      "path": "/search",
      "request": {
        "query": "string",
        "consultant": "string",
        "translateChat": "bool",
        "branchA": "string",
        "branchB": "string|null"
      },
      "response": {
        "session_id": "string",
        "results": "string (markdown)",
        "translated": "string|null",
        "error": "string|null"
      }
    }
  },
  "uiRules": {
    "branchPickerMode": {
      "single": "UI shows one branch selector (A). BranchB is hidden and sent as empty/null.",
      "compare": "UI shows two branch selectors (A and B)."
    },
    "welcomeLink": "Only the {link} part in welcomeTemplate becomes a clickable <a>."
  }
}
